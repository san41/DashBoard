<!-- CSS Style -->
<!--
Add translate
-->

<link href="./static/weather/css/owfont-regular.css" rel="stylesheet"/>
<link href="./static/weather/css/owfont-regular.min.css" rel="stylesheet"/>

<style>
  .modal.modal-open {
    position: fixed;
    top: 0;
    bottom: 0;
    right: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: block;
  }
  .modal.modal-open .modal-dialog {
    margin: 10% auto;
  }
  .pointer{
    cursor: pointer;
  }
  .table{
    max-height: 10px;
  }
  .description{
    text-transform: capitalize;
  }
</style>

<!-- Start Content -->
<section class="content-header">
  <h1>
    <div class="row">
      <div class="col-md-12">
        <i class="fa fa-sun-o"></i> <translate>Weather</translate> | <button ng-click="addWeatherLocation()" class="btn btn-success btn-xs" translate> Add weather</button>
      </div>
    </div>
  </h1>
  <ol class="breadcrumb">
    <li><a href="#/"><i class="fa fa-dashboard"></i> <translate>Home</translate></a></li>
    <li class="active" translate>Weather</li>
  </ol>
</section>
<section class="content" ng-show="weatherCount == null" >
  <div class="col-md-12">
    <div class="callout callout-danger">  
      <div class="row">
        <div class="col-md-12">      
          <h4 translate>You have not enabled location or recorded city!</h4>
          <p translate>To add city, <span ng-click="addWeatherLocation()"> click here.</span></p>
        </div>    
      </div>
    </div>
  </div>
</section>

<section class="content" ng-show="weatherCount >= 0">
  <div class="row">
    <div class="col-md-6" ng-show="geolocation == true">
      <div class="box">
        <div class="box-header with-border">
          <h3 class="box-title"> <i class="fa fa-location-arrow"></i> | {{weatherGeolocation.live.name}} - {{weatherGeolocation.live.sys['country']}} </h3>
          <div class="box-tools pull-right">
            <p class="text-muted" translate> Location Weather</p>
          </div>
        </div>

        <div class="box-body" style="display: block;">
          <div class="row" >
            <div class="col-md-6">                   
              <h4 class="text text-info text-center" translate> Now</h4>   
              <div class="row">
                <div class="col-md-6 text-center"> 
                  <p class="text-center">
                  <i class="owf owf-{{weatherGeolocation.live.weather[0].id}} owf-4x"></i>          
                  </p> 
                  <p class="text-center description">{{weatherGeolocation.live.weather[0].description}}</p> 
                  <h3 class="text text-success text-center"> {{weatherGeolocation.live.main.temp}}°C</h3>
                </div>
                <div class="col-md-6 text-center">
                  <p><span class="text text-info">Temp :</span> {{weatherGeolocation.live.main.temp_min}} - {{weatherGeolocation.live.main.temp_max}} °C</p>
                  <p><span class="text text-info">Wind: </span> {{weatherGeolocation.live.wind.speed}} km/h</p>
                  <p><span class="text text-info">Humidity: </span> {{weatherGeolocation.live.main.humidity}}%</p>
                  <p><span class="text text-info">Pressure: </span> {{weatherGeolocation.live.main.pressure}} hpa</p>
                </div>
              </div>
            </div>
            <div class="col-md-6">                   
              <h4 class="text text-info text-center"> Tomorrow </h4>   
              <div class="row">
                <div class="col-md-6 text-center"> 
                  <p class="text-center">
                    <i class="owf owf-{{weatherGeolocation.later[1].weather[0].id}} owf-4x"></i>                
                  </p> 
                  <p class="text-center description" >{{weatherGeolocation.later[1].weather[0].description}}</p> 
                  <h3 class="text text-success text-center"> {{weatherGeolocation.later[1].temp.day}}°C</h3>
                </div>
                <div class="col-md-6 text-center">
                  <p><span class="text text-info">Temp :</span> {{weatherGeolocation.later[1].temp.min}} - {{weatherGeolocation.later[1].temp.max}}°C</p>
                  <p><span class="text text-info">Wind: </span> {{weatherGeolocation.later[1].speed}} km/h</p>
                  <p><span class="text text-info">Humidity: </span> {{weatherGeolocation.later[1].humidity}}%</p>
                  <p><span class="text text-info">Pressure: </span> {{weatherGeolocation.later[1].pressure}} hpa</p>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-12 text-center">  
              <div class="row">
                <div class="col-md-12">
                  <div class="col-md-2 ">
                    <h4 class="text text-info">{{weatherGeolocation.later[2].dt * 1000| date:'dd/MM'  }}</h4>
                  <p class="text-center">
                    <i class="owf owf-{{weatherGeolocation.later[2].weather[0].id}} owf-2x"></i>                 
                  </p> 
                    <p><span class="text text-info"> {{weatherGeolocation.later[2].temp.day}}°C </p>
                  </div>
                  <div class="col-md-2 ">
                    <h4 class="text text-info">{{weatherGeolocation.later[3].dt * 1000| date:'dd/MM'  }}</h4>
                  <p class="text-center">
                    <i class="owf owf-{{weatherGeolocation.later[3].weather[0].id}} owf-2x"></i>              
                  </p> 
                    <p><span class="text text-info"> {{weatherGeolocation.later[3].temp.day}}°C </p>
                  </div>
                  <div class="col-md-2 ">
                    <h4 class="text text-info">{{weatherGeolocation.later[4].dt * 1000| date:'dd/MM'  }}</h4>
                  <p class="text-center">
                    <i class="owf owf-{{weatherGeolocation.later[4].weather[0].id}} owf-2x"></i>                 
                  </p> 
                    <p><span class="text text-info"> {{weatherGeolocation.later[4].temp.day}}°C </p>
                  </div>
                    <div class="col-md-2 ">
                    <h4 class="text text-info">{{weatherGeolocation.later[5].dt * 1000| date:'dd/MM'  }}</h4>
                  <p class="text-center">
                    <i class="owf owf-{{weatherGeolocation.later[5].weather[0].id}} owf-2x"></i>                 
                  </p> 
                    <p><span class="text text-info"> {{weatherGeolocation.later[5].temp.day}}°C </p>
                  </div>
                  <div class="col-md-2 ">
                    <h4 class="text text-info">{{weatherGeolocation.later[6].dt * 1000| date:'dd/MM'  }}</h4>
                  <p class="text-center">
                    <i class="owf owf-{{weatherGeolocation.later[6].weather[0].id}} owf-2x"></i>                 
                  </p> 
                    <p><span class="text text-info"> {{weatherGeolocation.later[6].temp.day}}°C </p>
                  </div>
                  <div class="col-md-2 ">
                    <h4 class="text text-info">{{weatherGeolocation.later[7].dt * 1000| date:'dd/MM'  }}</h4>
                  <p class="text-center">
                    <i class="owf owf-{{weatherGeolocation.later[7].weather[0].id}} owf-2x"></i>                 
                  </p> 
                    <p><span class="text text-info"> {{weatherGeolocation.later[7].temp.day}}°C </p>
                  </div>
                </div>
              </div>
            </div>            
          </div>
        </div>
      </div><!-- /.box -->
    </div>
    <div class="col-md-6" ng-repeat="weather in weatherList | orderBy:'position'">
      <div class="box">
        <div class="box-header with-border">
          <h3 class="box-title"></i>{{weather.name}} - {{weather.weatherLive.sys['country']}}</h3>
          <div class="box-tools pull-right">
            <p> <i class="text-green fa fa-arrows"></i> | <i ng-click='removeWeather()' class="text-red  fa fa-trash-o"></i></p>
         </div>
        </div>

        <div class="box-body" style="display: block;">
          <div class="row" >
            <div class="col-md-6">                   
              <h4 class="text text-info text-center" translate> Now </h4>   
              <div class="row">
                <div class="col-md-6 text-center"> 
                  <p class="text-center">
                    <i class="owf owf-{{weather.weatherLive.weather[0].id}} owf-4x"></i>                 
                  </p> 
                  <p class="text-center description">{{weather.weatherLive.weather[0].description}}</p> 
                  <h3 class="text text-success text-center"> {{weather.weatherLive.main.temp}}°C</h3>
                </div>
                <div class="col-md-6 text-center">
                  <p><span class="text text-info">Temp :</span> {{weather.weatherLive.main.temp_min}} - {{weather.weatherLive.main.temp_max}} °C</p>
                  <p><span class="text text-info">Wind: </span> {{weather.weatherLive.wind.speed}} km/h</p>
                  <p><span class="text text-info">Humidity: </span> {{weather.weatherLive.main.humidity}}%</p>
                  <p><span class="text text-info">Pressure: </span> {{weather.weatherLive.main.pressure}} hpa</p>
                </div>
              </div>
            </div>
            <div class="col-md-6">                   
              <h4 class="text text-info text-center"> Tomorrow </h4>   
              <div class="row">
                <div class="col-md-6 text-center"> 
                  <p class="text-center">
                    <i class="owf owf-{{weather.weatherLater.list[1].weather[0].id}} owf-4x"></i>              
                  </p> 
                  <p class="text-center description">{{weather.weatherLater.list[1].weather[0].description}}</p> 
                  <h3 class="text text-success text-center"> {{weather.weatherLater.list[1].temp.day}}°C</h3>
                </div>
                <div class="col-md-6 text-center">
                  <p><span class="text text-info">Temp :</span> {{weather.weatherLater.list[1].temp.min}} - {{weather.weatherLater.list[1].temp.max}}°C</p>
                  <p><span class="text text-info">Wind: </span> {{weather.weatherLater.list[1].speed}} km/h</p>
                  <p><span class="text text-info">Humidity: </span> {{weather.weatherLater.list[1].humidity}}%</p>
                  <p><span class="text text-info">Pressure: </span> {{weather.weatherLater.list[1].pressure}} hpa</p>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-12 text-center">  
              <div class="row">
                <div class="col-md-12">
                  <div class="col-md-2 ">
                    <h4 class="text text-info">{{weather.weatherLater.list[2].dt * 1000| date:'dd/MM'  }}</h4>
                  <p class="text-center">
                    <i class="owf owf-{{weather.weatherLater.list[2].weather[0].id}} owf-2x"></i>                 
                  </p> 
                    <p><span class="text text-info"> {{weather.weatherLater.list[2].temp.day}}°C </p>
                  </div>
                  <div class="col-md-2 ">
                    <h4 class="text text-info">{{weather.weatherLater.list[3].dt * 1000| date:'dd/MM'  }}</h4>
                  <p class="text-center">
                    <i class="owf owf-{{weather.weatherLater.list[3].weather[0].id}} owf-2x"></i>                 
                  </p> 
                    <p><span class="text text-info"> {{weather.weatherLater.list[3].temp.day}}°C </p>
                  </div>
                  <div class="col-md-2 ">
                    <h4 class="text text-info">{{weather.weatherLater.list[4].dt * 1000| date:'dd/MM'  }}</h4>
                  <p class="text-center">
                    <i class="owf owf-{{weather.weatherLater.list[4].weather[0].id}} owf-2x"></i>                 
                  </p> 
                    <p><span class="text text-info"> {{weather.weatherLater.list[4].temp.day}}°C </p>
                  </div>
                    <div class="col-md-2 ">
                    <h4 class="text text-info">{{weather.weatherLater.list[5].dt * 1000| date:'dd/MM'  }}</h4>
                  <p class="text-center">
                    <i class="owf owf-{{weather.weatherLater.list[5].weather[0].id}} owf-2x"></i>                 
                  </p> 
                    <p><span class="text text-info"> {{weather.weatherLater.list[5].temp.day}}°C </p>
                  </div>
                  <div class="col-md-2 ">
                    <h4 class="text text-info">{{weather.weatherLater.list[6].dt * 1000| date:'dd/MM'  }}</h4>
                  <p class="text-center">
                    <i class="owf owf-{{weather.weatherLater.list[6].weather[0].id}} owf-2x"></i>                
                  </p> 
                    <p><span class="text text-info"> {{weather.weatherLater.list[6].temp.day}}°C </p>
                  </div>
                  <div class="col-md-2 ">
                    <h4 class="text text-info">{{weather.weatherLater.list[7].dt * 1000| date:'dd/MM'  }}</h4>
                  <p class="text-center">
                    <i class="owf owf-{{weather.weatherLater.list[7].weather[0].id}} owf-2x"></i>                 
                  </p> 
                    <p><span class="text text-info"> {{weather.weatherLater.list[7].temp.day}}°C </p>
                  </div>
                </div>
              </div>
            </div>            
          </div>
        </div>
      </div><!-- /.box -->
    </div>
  </div>
</section>

<!--  Start modal to add location -->
<div class="modal modal-open" ng-show="modal != null">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" ng-click="modal = null" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" translate>Add location</h4>
      </div>
      <div class="modal-body">
        <div class="input-group">
          <span class="input-group-addon"><i class="fa fa-globe"></i></span>
          <input placeholder="Enter city name" type="text" class="form-control" ng-disabled="modal.editable == null || !modal.editable" ng-model="modal.cityName" ng-change="cityName()">  
        </div>
        <table class="table table-bordered" ng-show="cityList != null">
          <tbody>
            <tr>
              <th style="width: 80%">Name</th>
              <th style="width: 20%"></th>
            </tr>
            <tr ng-repeat="city in cityList">
              <td>{{city.name}} - {{city.sys.country}}</td>
              <td><button class="btn btn-success"ng-click="addCity(city)">Add weather</button></td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="modal-footer">
        <button type="button" ng-click="modal = null" class="btn btn-danger" data-dismiss="modal" translate>Close</button>
      </div>
    </div>
  </div>
</div>

<script type="text/javascript">
  
</script>